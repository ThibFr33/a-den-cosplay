<div class="container mt-5">
  <div class="card mx-auto" style="max-width: 600px; background-color:rgba(0, 0, 0, 0.6) ; color: #eee;">
    <div id="member-carousel">
      <%= render "layouts/member_carousel",
      member: @member %>

    </div>
    <% if user_signed_in? && current_user.admin? %>
      <div class="admin-btns">
          <%= link_to edit_member_path(@member), class: "btn btn-warning btn" do %>
            <i class="fa-solid fa-pen"></i> Modifier ce membre
          <% end %>
          <%= button_to member_path(@member),
                method: :delete,
                data: { turbo_confirm: "Supprimer ce membre et son compte utilisateur ? Action irréversible." },
                class: "btn btn-danger" do %>
            <i class="fa-solid fa-trash"></i> Supprimer ce membre
          <% end %>
      </div>
    <% end %>



      <div class="card-body">
        <%# Ligne flex avec pseudo et bouton %>
        <div class="d-flex align-items-center mb-0">
          <h2 class="card-title mb-3 flex-grow-1 text-center">
            <%= @member.pseudo %>
          </h2>
          <% if user_signed_in? && (current_user.admin? || current_user == @member.user) %>
            <button type="button"
                    class="btn btn-dark btn-sm rounded-circle shadow ms-2"
                    data-bs-toggle="modal"
                    data-bs-target="#addPhotoModal"
                    title="Ajouter une photo">
              <i class="fa-solid fa-camera"></i>
            </button>
          <% end %>
        </div>

         <%# Icône réseau social, juste sous le pseudo %>
        <% if @member.reseau_social.present? %>
          <div class="text-center mb-3">
            <%= link_to @member.reseau_social,
                        target: "_blank",
                        rel: "noopener noreferrer",
                        class: "text-decoration-none" do %>
              <% case @member.reseau_social
                when /instagram\.com/ then %>
                  <i class="fa-brands fa-instagram fa-bounce fa-2x" style="color:#ffc107"></i>
              <% when /facebook\.com/ then %>
                  <i class="fab fa-facebook fa-bounce fa-2x" style="color:#ffc107"></i>
              <% when /X\.com/ then %>
                  <i class="fab fa-twitter fa-bounce fa-2x" style="color:#ffc107"></i>
              <% else %>
                  <i class="fas fa-globe fa-bounce fa-2x" style="color:#ffc107"></i>
              <% end %>
            <% end %>
          </div>
        <% end %>

        <% if @member.presentation.present? %>
          <p class="card-text text-center"><%= @member.presentation %></p>
        <% end %>
      </div>
  </div>

</div>
<%= render "layouts/add_photo_modal",
           object: @member,
           modal_id: "addPhotoModal",
           form_url: add_photo_member_path(@member),
           title: "Ajouter une photo à ce membre" %>
